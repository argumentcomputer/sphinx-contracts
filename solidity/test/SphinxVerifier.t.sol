// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test, console} from "forge-std/Test.sol";
import {SphinxVerifier} from "../src/SphinxVerifier.sol";

contract SphinxVerifierTest is Test {
    SphinxVerifier public verifier;

    function setUp() public {
        verifier = new SphinxVerifier();
    }

    bytes private TestVerifierKey =
        abi.encodePacked(hex"00092f91616b81e394f434c4c8b330b44a313c51bb54a89a1bf9254ac05b0f6f");
    bytes private TestPublicValues = abi.encodePacked(hex"3700000059000000");
    bytes private TestProof = abi.encodePacked(
        hex"cabf0c670991492d32f5f314d59184b7b5ee7f508cda6aac56d4ca3e7be611a9690881d229b59493ae8b15e9a78af1a0bb5d7dbe0b89c01dfc037358067b12f4a56a5f4c08383cc20d20acd891dd46ae2c7061c9749e0d2c51e947486a5d8253667029fd061728ada00badd62aff7dd3054dbe64f9d63c56b2d7ef86e80a6886a3456441189b9da835c3f1bda944ef8b3c67b96a2ed099b71b3496e2664ed3a4224df47e2600f610719f09ac469644f87744aef187c4cebd49414aada587a3b8e57e15832d5d178ab6cef3a22c66edea8563928c859237e857ba99fff600139dbe089ae2085408fc1916ff6fda8e6bcd2c11fe72525fac1e6f5b6940aa9cfd122612df6410fa08fc806f09138ef1c7d40c8501e203424787988a399f31d3de3c650382f11ca0d642b92f08cdbbf7c0b4715eecd0968cdf8d4f32d14b62cf8db267d9c1a024a19c3d65822a5eddbd7038e34be95ed43ae85afaf6060a6af29ccedbb48a7a23b924122297dff3edbd576048f75c9d942f64db0e6da70103a335e7a2404b5716077f36b6317dd96646f6edc1cccb5eed778722206b454a7ce1d163419558e9069256a9e449f9f0a951c4d4c173df85f75f8b0d07362f5d9cb4d67c3b38cc8c1f28969ca82e61b8ebbca23908856e8136116ab960f8d01f77b6d78b064fea952e6666aee09c138d053d0c9afd8bd6005d571efc1f0818c441df2560d95a17c5234042767447ca76512f28e42dc97d6e61b4b997f51659d0ea78e848a5ae172b011d659770b6190e643227601611987ede55e26e38b4125f5588ad99b2de28e12e745f6a7e3f42e691231f74538ec20f822973c98c106d2c7058fadb3f4621b421d1d3fe938a58202b6fbca640a2857b64b8177be4cdfdeda52eaf5f6b85daf4186f35746e36cf151f1f96513c35651cb176fb6b17f164b990cf6c9840f88cb91e35a866d7dee7d0704802c2058ac3174d55b3903ac57762bc8f930adc6f1e1911bf6c5193297c42be7697054a984e1bd5a28aac17f33383cd370c7b5d1c466223d525ba9be78ba29b7643d162c55c29cc2e5d06c05b9ecd4a3d33c79d827acb1e6a6ffc29cfcb71e29560dbc2cf3cefb07aa60c4dd9628e7ee9289908b893842c61a697f75645f4f2f06c92453a2289f68fb8305b2dd827f5f839da3e680c030c41851d410224db7bb85c98ca29e04e8e7df918d963b52ab95737e75635a47a"
    );

    function testCoreVerification() public view {
        verifier.verifyProof(bytes32(TestVerifierKey), TestPublicValues, TestProof);
    }
}
