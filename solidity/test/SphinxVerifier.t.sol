// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test, console} from "forge-std/Test.sol";
import {SphinxVerifier} from "../src/SphinxVerifier.sol";

contract SphinxVerifierTest is Test {
    SphinxVerifier public verifier;

    function setUp() public {
        verifier = new SphinxVerifier();
    }

    bytes private TestVerifierKey = abi.encodePacked(hex"002acfe95638a7aa71feaa167c1d53339708571ba2082f000d39bedebac6c872");
    bytes private TestPublicValues = abi.encodePacked(hex"3700000059000000");
    bytes private TestProof = abi.encodePacked(hex"7f8918df1f3a828d36df4e1a34af8ee5bbb868854669b2f8eaae6138e3296616d183abb919c0bd8a873c084ab35500022ba8f6fcfa7c5e0b6d7d7220dd1035a8c4fdcc4e1e7f7d1d85067236ee9cc6fd106a70c7cbba1fb91ca927b77bdae8b4b9e3ec8401bf6fcc42b52542f6ced40b4ad6e0c8d7b80cdad5eae03739f4f653cbbeed1b1c5d15bf7b0e630dc3f8423a6f786d9bc65da88248aa370fa8be68cedfa24da21a6967bbfaaa9b8c52f6b0d5701722e0098a4b65e753b4def0e48c6f2e1cee4f039ffe09d54d2df40bec21662b98454314c900df7a8784798c601402f9cbb7731074762abbeef8660d5086cde69dfdb756136172522c2d52ff61b778cb45aa69305a7b6b307e9c6bcbbee603427bbbabc93cdf57551e74dceeae3f25a7740e040ae21b567cb1c8c84d23ffc989abe5b5b156c0e90d9c60d271f1e7dd89cd7c03049457b27d0c2999e4ee111cd5634e0fbf9dc0546ee3a0d059364ecf5464c005206cfd66e25ed15267cf18db8af60c0f443c6041a359af0d25d7c239d1daf523292466e5de83b5543308f90e938ede8444f3da833d9b69d4e41f00e4ba46875a0aff2a9ccbbcb330f78049830740f7266b3ad6e44193719cc1a07f5b279d80292aa4e773e98256b7fb80c01c0afc5be15678a204a058adf223565443375005ee22dea68c1f33e210f1f761f19d931d6ab3768d4a0bfd296b3c1b39e42ce5f762221b3b63c26f1af4232c36641e4e1d91e76025d5a1973ff0deeb9a188556d2a5073221ce19e50ca0cfe9a54ce2cc51552896b23ce285bf8ee489a7b47cf66850177e736d00de71cf5bb68d91ff23d918eadc2fd9a8b0b9ada927507f62b59a351009cf9d2922b03f7392fe1c3b6efe3000cbd96f67e9d971df2d2936b52528cd048a343ef0a102b9069022e99c9a3c0f4e1bc29f530db5949ca1bfa46827fa1c11fdf724a14539a885c13ac5c8d68641a4d9d6cc9315cc05d55daadd50e77e140e9ff2779c8afe937f89d9ff8b677df2177fb80361cca1f717c1f0683288666e1f8f5cadb31ed67ee7cae1808a5e92744150248566a135f2dcd61a45ea06351409564018ce004124817270c91bbfa23cc53bae68de18061670c6ff23a56d03c006e79c83a655700250a85cb33593f79620f5346e5d80ac0c6a3f7626891f58e41cccc0536393e4ad77b2af22bb1fa771c01778371cc013f10721cc1e9e87ed6a");

    function testCoreVerification() public view {
        verifier.verifyProof(bytes32(TestVerifierKey), TestPublicValues, TestProof);
    }
}
