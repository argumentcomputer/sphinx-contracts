// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import {Test, console} from "forge-std/Test.sol";
import {SphinxVerifier} from "../src/SphinxVerifier.sol";

contract SphinxVerifierTest is Test {
    SphinxVerifier public verifier;

    function setUp() public {
        verifier = new SphinxVerifier();
    }

    bytes private TestVerifierKey = abi.encodePacked(hex"002acfe95638a7aa71feaa167c1d53339708571ba2082f000d39bedebac6c872");
    bytes private TestPublicValues = abi.encodePacked(hex"3700000059000000");
    bytes private TestProof = abi.encodePacked(hex"7f8918df136bc284ddbe57a9e8a3d041622db7d5359005224713bf4a4368f77eecad3305292652f08362177bdfef926e297b120b7a7f3697aa27fecb494b6c22fded2aa621d71c201bea32bc16cab4b091893c7ef85bb88a0e0c59e67c1f6a248720f0d20dacfe7c70985734b8a6edcb72225057cf379d2fd1c5db2ebf326f2d61a8adc920c6e3bb90b0b254d2505cc5a654e802dcf9ffd35ad8d33d3c892c64b20035c909af53d11a7df720f14f5f7155cf1144e20a04e0ad0993d6c829e438e1b01204008448093f2c775bf90689497ca3cbfc009f35f7ece393b6d4142e6adbb01df12fd941775d5f60d352e7d158e52b2879e6c3b5b4faf53da9d344c2396fd19fa3140723ba84fdd2f5dff4db2558dcdd90017222749104ec135104baa24adbef430baf74f290e60ee5ec77663399fea420899448396cd02350a0eeae04275d20bc24d01afb744e7fc2aaa38e7e9d5f8f2f07858374a3c720c809441360b77df9a01ae98b4833cc749ac80ff388c38ebf20646ef4927cd13d38cb87d32dbde6c301054715649335a13b758257978c6459e38f269960a060ca9df618ca83ed74c8bc14939a020d65f25adf98487413823dd9181044cf6b96f0175a91b1e0f0312b400b83ecdf292d2c2867e7b416e423666f0bbc64e7d716d45c36cef1a9c902038022507ec6f896e38ee400c2f644ceae38154dc3eddf9b8a646a01b7896f0b6d1304848c7e207f840e9ff1178de8d6ae9ec290931da796e3b7a8002ac19e8ce56f1c8a23543134b37cee3743bdda7d2ef9fb0f5d170f8598840bbffafc57c86f3c00edb866ba0ff8bffc4ed5e343ca1ede6b207bb1c1c9bbcb42dba1d44dc0cbda0037d58baee571c2b184cb56390ffddc9f8f165c8c8f2d0e0444c0de11ae6f1c07bf28322806eea4550685818159c894705cd28e788b5627e16bd48cd799735e1385af95aa94642fb0a316de0d4c841aca8a3ac9cf71b6f7aac391fb00143680038c4d6924795cca265e6a687ad29aab6b0ca4f44d55037975b8e2fe841127420314fdd8cd764956fb68f2ed7dd6740b2303954200263257e131692568bba655290290fbb1345880ce5436f2a126a2f6b0308f0f9a375aa1a64ef30bf2145e4601281e19bc030a5ce69dd6688162d65fbdefee456674b6bd7e7faf94dd5510442fd489965bd9fa42783de0ce366ea4154e470a48136c61d8c22ce66a0c86ba53");

    function testCoreVerification() public view {
        verifier.verifyProof(bytes32(TestVerifierKey), TestPublicValues, TestProof);
    }
}
